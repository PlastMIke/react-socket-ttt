<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TTT</title>
  
    <!-- STYLES -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  </head>
  <body>

    <div class="container" style="text-align: center;">
      <div class="row">
        <div class="span12">
          <div class="form-horizontal">
            <fieldset>
              <div id="legend">
                <legend class="">Enter Name</legend>
              </div>
              <div class="control-group">
                <div class="controls">
                  <input type="text" id="name" name="name" placeholder="" class="input-xlarge">
                </div>
              </div>
              <div class="control-group" style="margin-top: 20px;">
                <div class="controls">
                  <button class="btn btn-success">Play!</button>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
      </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script>
      $(document).ready(function(){
        $('button').click(function(e){
          // Checking if username was entered.
          var username = $('input').val().trim();

          if(username.length > 0){
            $.ajax({
              url: '/api/players',
              type: 'POST',
              data: {
                username: username
              },
              success: function(){
                window.location.href = '/waiting';
              },
              error: function(){
                alert('There has been an error');
              }
            });
          }
        });
      });
    </script>
  </body>
</html>